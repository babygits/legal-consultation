import{r as d,c as _,b as f,d as o,w as s,i as w,e as a,f as b,g as v,a as i}from"./index-_Z1ISS97.js";const k={__name:"IncomeWithdraw",setup(y){const n=d(0),m=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/api/income/withdraw",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({amount:n.value})}),r=await t.json();if(!t.ok)throw new Error(r.message);i.success("提现成功")}catch(e){i.error(e.message)}};return(e,t)=>{const r=a("a-input-number"),u=a("a-form-item"),l=a("a-button"),p=a("a-form");return b(),_("div",null,[t[3]||(t[3]=f("h2",null,"提现",-1)),o(p,{onSubmit:t[1]||(t[1]=w(()=>{},["prevent"]))},{default:s(()=>[o(u,{label:"提现金额"},{default:s(()=>[o(r,{value:n.value,"onUpdate:value":t[0]||(t[0]=c=>n.value=c),min:1},null,8,["value"])]),_:1}),o(l,{type:"primary",onClick:m},{default:s(()=>t[2]||(t[2]=[v("确认提现")])),_:1})]),_:1})])}}};export{k as default};
